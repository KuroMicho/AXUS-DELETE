(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{257:function(e,t,r){"use strict";r.r(t);var o={asyncData:function(e){return e.$axios.get("http://localhost:4000/api/categorias?pagination=false").then(function(e){return{categorias:e.data}})},data:function(){return{form:{Name:"",Amount:"",Price:"",name_image:"",image:"",categoria_id:""},guardando:!1}},methods:{guardarProducto:function(){var e=this;this.guardando=!0,this.$axios.post("http://localhost:4000/api/products",this.form).then(function(t){e.$router.push({path:"/productos"})})},pickFile:function(){this.$refs.image.click()},onFilePicked:function(e){var t=this,r=e.target.files;if(void 0!==r[0]){if(this.form.name_image=r[0].Name,this.form.name_image.lastIndexOf(".")<=0)return;var o=new FileReader;o.readAsDataURL(r[0]),o.addEventListener("load",function(){t.form.image=o.result})}}}},n=r(30),component=Object(n.a)(o,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-form",{on:{submit:function(t){return t.preventDefault(),e.guardarProducto(t)}}},[r("div",{staticClass:"row mt-3"},[r("div",{staticClass:"col-xs-6 col-sm-5 col-md-6"},[r("h4",[e._v("Nuevo Producto")])])]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("b-form-group",{attrs:{label:"Imagen:","label-for":"imagen"}},[r("b-form-input",{attrs:{placeholder:"Cargar imagen"},on:{click:e.pickFile},model:{value:e.form.name_image,callback:function(t){e.$set(e.form,"name_image",t)},expression:"form.name_image"}}),e._v(" "),r("input",{ref:"image",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:e.onFilePicked}})],1),e._v(" "),r("b-form-group",{attrs:{label:"Nombre:","label-for":"nombre"}},[r("b-form-input",{attrs:{id:"nombre",type:"text",required:"",placeholder:"Ingresa el nombre del producto"},model:{value:e.form.Name,callback:function(t){e.$set(e.form,"Name",t)},expression:"form.Name"}})],1),e._v(" "),r("b-form-group",{attrs:{label:"Precio:","label-for":"precio"}},[r("b-form-input",{attrs:{id:"precio",type:"number",required:"",placeholder:"Ingresa el precio del producto"},model:{value:e.form.Price,callback:function(t){e.$set(e.form,"Price",t)},expression:"form.Price"}})],1),e._v(" "),r("b-form-group",{attrs:{label:"Cantidad:","label-for":"cantidad"}},[r("b-form-input",{attrs:{id:"cantidad",type:"number",required:"",placeholder:"Ingresa la cantidad disponible del producto"},model:{value:e.form.Amount,callback:function(t){e.$set(e.form,"Amount",t)},expression:"form.Amount"}})],1),e._v(" "),r("b-form-group",{attrs:{label:"Categoria:","label-for":"categoria"}},[r("b-form-select",{attrs:{options:e.categorias,"value-field":"id","text-field":"name"},model:{value:e.form.categoria_id,callback:function(t){e.$set(e.form,"categoria_id",t)},expression:"form.categoria_id"}})],1)],1)]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12 offset-sm-5"},[r("b-button-toolbar",[r("b-button-group",{staticClass:"mx-2",attrs:{right:""}},[r("b-button",{attrs:{href:"/productos"}},[e._v("Volver")]),e._v(" "),r("b-button",{attrs:{variant:"primary",type:"submit"}},[e._v("Guardar")])],1)],1)],1)])])},[],!1,null,null,null);t.default=component.exports}}]);